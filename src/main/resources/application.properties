# ===================================================================
#                      CONFIGURACIÓN GENERAL
# ===================================================================
spring.application.name=demo
server.port=8080


# ===================================================================
#                 CONFIGURACIÓN DE BASE DE DATOS (H2)
# ===================================================================
# Habilita la consola web de H2, accesible en http://localhost:8080/h2-console
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# Configuración de la conexión a la base de datos en memoria
spring.datasource.url=jdbc:h2:mem:hackathondb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
# Dejar la contraseña en blanco es común para H2 en desarrollo
spring.datasource.password=


# ===================================================================
#                   CONFIGURACIÓN DE JPA / HIBERNATE
# ===================================================================
# 'update': Hibernate actualiza el esquema si hay cambios en las @Entity, sin borrar datos.
# Ideal para desarrollo. Alternativa: 'create-drop' para empezar de cero cada vez.
spring.jpa.hibernate.ddl-auto=update

# Muestra en consola las sentencias SQL que Hibernate ejecuta. Muy útil para depurar.
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true


# ===================================================================
#                  INICIALIZACIÓN DE DATOS CON SQL
# ===================================================================
# 'always': Ejecuta siempre los scripts SQL al arrancar.
spring.sql.init.mode=always
# Especifica la ubicación del script. Spring lo encontraría por defecto, pero así es más explícito.
spring.sql.init.data-locations=classpath:data.sql


# ===================================================================
#                       CONFIGURACIÓN DE LOGGING
# ===================================================================
logging.level.root=INFO
logging.level.com.hackthon.demo=DEBUG # Nivel de log para vuestro paquete

# Formato del log en consola
logging.pattern.console=%d{HH:mm:ss.SSS} %-5level [%thread] %logger{36} - %msg%n

# Configuración para guardar logs en ficheros (opcional pero buena práctica)
logging.file.name=logs/demo-app.log
logging.file.max-size=10MB
logging.file.max-history=30


# ===================================================================
#                    CONFIGURACIÓN DE SWAGGER / OPENAPI
# ===================================================================
# URLs para la documentación de la API
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html


# ===================================================================
#                      PROPIEDADES PARA TESTS
# ===================================================================
# Estas propiedades suelen ir en un fichero aparte (application-test.properties)
# pero no hay problema en tenerlas aquí.
spring.main.allow-bean-definition-overriding=true